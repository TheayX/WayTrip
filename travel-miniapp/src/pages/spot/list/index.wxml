<view class="spot-list-page">
  <!-- æœç´¢æ  -->
  <view class="search-bar" bindtap="goToSearch">
    <text class="search-icon">ğŸ”</text>
    <text class="search-placeholder">æœç´¢æ™¯ç‚¹</text>
  </view>

  <!-- ç­›é€‰å’Œæ’åº -->
  <view class="filter-bar">
    <view class="filter-btn" bindtap="toggleFilter">
      <text>ç­›é€‰</text>
      <text class="arrow">{{showFilter ? 'â–²' : 'â–¼'}}</text>
    </view>
    <view class="sort-tabs">
      <view class="sort-tab {{sortBy === 'heat' ? 'active' : ''}}" data-sort="heat" bindtap="changeSort">çƒ­åº¦</view>
      <view class="sort-tab {{sortBy === 'rating' ? 'active' : ''}}" data-sort="rating" bindtap="changeSort">è¯„åˆ†</view>
      <view class="sort-tab {{sortBy === 'price_asc' ? 'active' : ''}}" data-sort="price_asc" bindtap="changeSort">ä»·æ ¼â†‘</view>
      <view class="sort-tab {{sortBy === 'price_desc' ? 'active' : ''}}" data-sort="price_desc" bindtap="changeSort">ä»·æ ¼â†“</view>
    </view>
  </view>

  <!-- ç­›é€‰é¢æ¿ -->
  <view class="filter-panel" wx:if="{{showFilter}}">
    <view class="filter-section">
      <text class="filter-title">åœ°åŒº</text>
      <view class="filter-tags">
        <view 
          class="filter-tag {{currentRegion === item.id ? 'active' : ''}}" 
          wx:for="{{regions}}" 
          wx:key="id"
          data-id="{{item.id}}"
          bindtap="selectRegion"
        >{{item.name}}</view>
      </view>
    </view>
    <view class="filter-section">
      <text class="filter-title">åˆ†ç±»</text>
      <view class="filter-tags">
        <view 
          class="filter-tag {{currentCategory === item.id ? 'active' : ''}}" 
          wx:for="{{categories}}" 
          wx:key="id"
          data-id="{{item.id}}"
          bindtap="selectCategory"
        >{{item.name}}</view>
      </view>
    </view>
  </view>

  <!-- æ™¯ç‚¹åˆ—è¡¨ -->
  <view class="spot-list">
    <view class="spot-item" wx:for="{{spots}}" wx:key="id" data-id="{{item.id}}" bindtap="goToDetail">
      <image class="spot-image" src="{{item.coverImage}}" mode="aspectFill" />
      <view class="spot-info">
        <text class="spot-name">{{item.name}}</text>
        <view class="spot-meta">
          <text class="spot-region">{{item.regionName}}</text>
          <text class="spot-category">{{item.categoryName}}</text>
        </view>
        <view class="spot-bottom">
          <view class="spot-rating">
            <text class="star">â­</text>
            <text>{{item.avgRating || '-'}}</text>
            <text class="rating-count">({{item.ratingCount || 0}})</text>
          </view>
          <text class="spot-price">Â¥{{item.price}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-tip" wx:if="{{loading}}">åŠ è½½ä¸­...</view>
  <view class="no-more" wx:if="{{!hasMore && spots.length > 0}}">æ²¡æœ‰æ›´å¤šäº†</view>
  <view class="empty" wx:if="{{!loading && spots.length === 0}}">æš‚æ— æ™¯ç‚¹</view>
</view>
