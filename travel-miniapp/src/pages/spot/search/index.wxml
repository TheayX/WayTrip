<view class="search-page">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-input-wrap">
      <text class="search-icon">ğŸ”</text>
      <input 
        class="search-input" 
        placeholder="æœç´¢æ™¯ç‚¹" 
        value="{{keyword}}"
        focus
        confirm-type="search"
        bindinput="onInput"
        bindconfirm="onSearch"
      />
      <text class="clear-btn" wx:if="{{keyword}}" bindtap="onClear">âœ•</text>
    </view>
    <text class="search-btn" bindtap="onSearch">æœç´¢</text>
  </view>

  <!-- æœç´¢ç»“æœ -->
  <view class="search-result" wx:if="{{searched}}">
    <view class="spot-list" wx:if="{{spots.length > 0}}">
      <view class="spot-item" wx:for="{{spots}}" wx:key="id" data-id="{{item.id}}" bindtap="goToDetail">
        <image class="spot-image" src="{{item.coverImage}}" mode="aspectFill" />
        <view class="spot-info">
          <text class="spot-name">{{item.name}}</text>
          <view class="spot-meta">
            <text class="spot-region">{{item.regionName}}</text>
            <text class="spot-category">{{item.categoryName}}</text>
          </view>
          <view class="spot-bottom">
            <view class="spot-rating">
              <text class="star">â­</text>
              <text>{{item.avgRating || '-'}}</text>
            </view>
            <text class="spot-price">Â¥{{item.price}}</text>
          </view>
        </view>
      </view>
    </view>

    <view class="empty" wx:if="{{!loading && spots.length === 0}}">
      <text>æœªæ‰¾åˆ°ç›¸å…³æ™¯ç‚¹</text>
    </view>

    <view class="loading-tip" wx:if="{{loading}}">åŠ è½½ä¸­...</view>
    <view class="no-more" wx:if="{{!hasMore && spots.length > 0}}">æ²¡æœ‰æ›´å¤šäº†</view>
  </view>

  <!-- æœç´¢æç¤º -->
  <view class="search-tip" wx:if="{{!searched}}">
    <text>è¾“å…¥å…³é”®è¯æœç´¢æ™¯ç‚¹</text>
  </view>
</view>
